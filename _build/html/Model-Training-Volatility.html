
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Modelado: Volatilidad &#8212; MiniProyecto 2 - Aplicación de Series de Tiempo</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Model-Training-Volatility';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Análisis de Resultados" href="Analysis.html" />
    <link rel="prev" title="Modelado: Precio de Cierre" href="Model-Training-Close.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
  
    <p class="title logo__title">MiniProyecto 2 - Aplicación de Series de Tiempo</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Predicción del Precio de Cierre/Volatilidad del BitCoin
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="EDA-Volatility.html"><strong>Proyecto Integrador de Deep Learning #2</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="Model-Training-Close.html"><strong>Modelado: Precio de Cierre</strong></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Modelado: Volatilidad</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="Analysis.html"><em><strong>Análisis de Resultados</strong></em></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FModel-Training-Volatility.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Model-Training-Volatility.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Modelado: Volatilidad</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#split-temporal-y-validacion-cruzada"><strong>Split Temporal y Validación Cruzada</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelado-con-deep-learning"><strong>Modelado con Deep Learning</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tabla-de-resumen-comparativo-por-lags"><em>Tabla de Resumen Comparativo por Lags</em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tablas-de-metricas-resumen-por-horizonte-y-por-fold"><em>Tablas de Metricas: Resumen por Horizonte y por Fold</em></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="modelado-volatilidad">
<h1><strong>Modelado: Volatilidad</strong><a class="headerlink" href="#modelado-volatilidad" title="Link to this heading">#</a></h1>
<section id="split-temporal-y-validacion-cruzada">
<h2><strong>Split Temporal y Validación Cruzada</strong><a class="headerlink" href="#split-temporal-y-validacion-cruzada" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># -----------------------</span>
<span class="c1"># 1. Crear lags de volatilidad</span>
<span class="c1"># -----------------------</span>
<span class="k">for</span> <span class="n">lag</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">28</span><span class="p">]:</span>
    <span class="n">btc</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;Volatility_lag_</span><span class="si">{</span><span class="n">lag</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">btc</span><span class="p">[</span><span class="s1">&#39;Volatility&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">lag</span><span class="p">)</span>

<span class="c1"># -----------------------</span>
<span class="c1"># 2. Crear targets futuros (predicciones de volatilidad)</span>
<span class="c1"># -----------------------</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">):</span>  <span class="c1"># t+1 a t+7</span>
    <span class="n">btc</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;target_vol_t+</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">btc</span><span class="p">[</span><span class="s1">&#39;Volatility&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">-</span><span class="n">i</span><span class="p">)</span>

<span class="c1"># -----------------------</span>
<span class="c1"># 3. Definir features y targets</span>
<span class="c1"># -----------------------</span>
<span class="n">features</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;Close&#39;</span><span class="p">,</span> <span class="s1">&#39;LogReturn&#39;</span><span class="p">,</span> <span class="s1">&#39;Volatility&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Volatility_lag_7&#39;</span><span class="p">,</span> <span class="s1">&#39;Volatility_lag_14&#39;</span><span class="p">,</span> <span class="s1">&#39;Volatility_lag_21&#39;</span><span class="p">,</span> <span class="s1">&#39;Volatility_lag_28&#39;</span>
<span class="p">]</span>

<span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;target_vol_t+</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">)]</span>

<span class="c1"># -----------------------</span>
<span class="c1"># 4. Eliminar filas con NaN (por los shifts)</span>
<span class="c1"># -----------------------</span>
<span class="n">btc</span> <span class="o">=</span> <span class="n">btc</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">features</span> <span class="o">+</span> <span class="n">targets</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># -----------------------</span>
<span class="c1"># 5. Definir matrices de entrada y salida</span>
<span class="c1"># -----------------------</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">btc</span><span class="p">[</span><span class="n">features</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">btc</span><span class="p">[</span><span class="n">targets</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">btc</span><span class="p">[</span><span class="s2">&quot;Open time&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># -----------------------</span>
<span class="c1"># 6. Construcción del objeto timeSeries</span>
<span class="c1"># -----------------------</span>
<span class="n">timeSeries</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="modelado-con-deep-learning">
<h2><strong>Modelado con Deep Learning</strong><a class="headerlink" href="#modelado-con-deep-learning" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1) Ejecutar evaluación completa</span>
<span class="n">todos_lags</span><span class="p">,</span> <span class="n">df_comparativa</span> <span class="o">=</span> <span class="n">evaluar_y_reportar</span><span class="p">(</span><span class="n">timeSeries</span><span class="p">,</span> <span class="n">lags_list</span><span class="o">=</span><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">28</span><span class="p">],</span>
                                                <span class="n">n_outputs</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">epochs</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span>
                                                <span class="n">verbose_fit</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Procesando n_lag = 7 ===
Fold 1: train (325, 98) -&gt; val (108, 98) -&gt; test (108, 98)
Fold 2: train (324, 98) -&gt; val (108, 98) -&gt; test (108, 98)
Fold 3: train (323, 98) -&gt; val (108, 98) -&gt; test (108, 98)
Fold 4: train (322, 98) -&gt; val (108, 98) -&gt; test (108, 98)
Fold 5: train (324, 98) -&gt; val (108, 98) -&gt; test (108, 98)

===== Fold 1/5 =====
<span class=" -Color -Color-Bold">11/11</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 14ms/step
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 19ms/step
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 9ms/step 
Fold 1 | RMSE prom: 0.0608 | pval(h1): 0.9726225439211883

===== Fold 2/5 =====
<span class=" -Color -Color-Bold">11/11</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 12ms/step
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 11ms/step
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 10ms/step
Fold 2 | RMSE prom: 0.0728 | pval(h1): 0.0038120368733828964

===== Fold 3/5 =====
<span class=" -Color -Color-Bold">11/11</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 13ms/step
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 14ms/step
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 14ms/step
Fold 3 | RMSE prom: 0.0657 | pval(h1): 0.12480855191333039

===== Fold 4/5 =====
<span class=" -Color -Color-Bold">11/11</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 14ms/step
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 19ms/step
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 18ms/step
Fold 4 | RMSE prom: 0.0675 | pval(h1): 0.9244531506441696

===== Fold 5/5 =====
<span class=" -Color -Color-Bold">11/11</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 19ms/step
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 26ms/step 
Fold 5 | RMSE prom: 0.0599 | pval(h1): 0.6109352361485884

=== Procesando n_lag = 14 ===
Fold 1: train (172, 196) -&gt; val (56, 196) -&gt; test (56, 196)
Fold 2: train (171, 196) -&gt; val (56, 196) -&gt; test (56, 196)
Fold 3: train (170, 196) -&gt; val (56, 196) -&gt; test (56, 196)
Fold 4: train (169, 196) -&gt; val (56, 196) -&gt; test (56, 196)
Fold 5: train (168, 196) -&gt; val (57, 196) -&gt; test (56, 196)

===== Fold 1/5 =====
<span class=" -Color -Color-Bold">6/6</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 46ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 41ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 53ms/step
Fold 1 | RMSE prom: 0.0633 | pval(h1): 0.8443107142443242

===== Fold 2/5 =====
<span class=" -Color -Color-Bold">6/6</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 31ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 53ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 50ms/step
Fold 2 | RMSE prom: 0.0696 | pval(h1): 0.8965439873263408

===== Fold 3/5 =====
<span class=" -Color -Color-Bold">6/6</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 24ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 62ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 71ms/step
Fold 3 | RMSE prom: 0.0642 | pval(h1): 0.8342902284984159

===== Fold 4/5 =====
<span class=" -Color -Color-Bold">6/6</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 27ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 41ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 38ms/step
Fold 4 | RMSE prom: 0.0568 | pval(h1): 0.8749928916929897

===== Fold 5/5 =====
<span class=" -Color -Color-Bold">6/6</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 33ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 42ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 53ms/step
Fold 5 | RMSE prom: 0.0753 | pval(h1): 0.12749293251803878

=== Procesando n_lag = 21 ===
Fold 1: train (115, 294) -&gt; val (38, 294) -&gt; test (38, 294)
Fold 2: train (114, 294) -&gt; val (38, 294) -&gt; test (38, 294)
Fold 3: train (113, 294) -&gt; val (38, 294) -&gt; test (38, 294)
Fold 4: train (112, 294) -&gt; val (38, 294) -&gt; test (38, 294)
Fold 5: train (114, 294) -&gt; val (38, 294) -&gt; test (38, 294)

===== Fold 1/5 =====
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 58ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 62ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 51ms/step
Fold 1 | RMSE prom: 0.1167 | pval(h1): 0.9640894030474525

===== Fold 2/5 =====
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 44ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 37ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 32ms/step
Fold 2 | RMSE prom: 0.1492 | pval(h1): 0.9837531640206383

===== Fold 3/5 =====
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 42ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 32ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 60ms/step
Fold 3 | RMSE prom: 0.0989 | pval(h1): 0.31208978180527874

===== Fold 4/5 =====
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 41ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 63ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 28ms/step
Fold 4 | RMSE prom: 0.0908 | pval(h1): 0.5118251309967707

===== Fold 5/5 =====
<span class=" -Color -Color-Bold">4/4</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 40ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 23ms/step
<span class=" -Color -Color-Bold">2/2</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 37ms/step
Fold 5 | RMSE prom: 0.0746 | pval(h1): 0.042031962480737886

=== Procesando n_lag = 28 ===
Fold 1: train (88, 392) -&gt; val (29, 392) -&gt; test (28, 392)
Fold 2: train (87, 392) -&gt; val (29, 392) -&gt; test (28, 392)
Fold 3: train (86, 392) -&gt; val (29, 392) -&gt; test (28, 392)
Fold 4: train (85, 392) -&gt; val (29, 392) -&gt; test (28, 392)
Fold 5: train (84, 392) -&gt; val (29, 392) -&gt; test (29, 392)

===== Fold 1/5 =====
<span class=" -Color -Color-Bold">3/3</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 53ms/step
<span class=" -Color -Color-Bold">1/1</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 83ms/step
<span class=" -Color -Color-Bold">1/1</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 82ms/step
Fold 1 | RMSE prom: 0.0813 | pval(h1): 0.8064781768019567

===== Fold 2/5 =====
<span class=" -Color -Color-Bold">1/3</span> <span class=" -Color -Color-Green">━━━━━━</span><span class=" -Color -Color-White">━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 68ms/stepWARNING:tensorflow:5 out of the last 13 calls to &lt;function TensorFlowTrainer.make_predict_function.&lt;locals&gt;.one_step_on_data_distributed at 0x0000018A06F10540&gt; triggered tf.function retracing. Tracing is expensive and the excessive number of tracings could be due to (1) creating @tf.function repeatedly in a loop, (2) passing tensors with different shapes, (3) passing Python objects instead of tensors. For (1), please define your @tf.function outside of the loop. For (2), @tf.function has reduce_retracing=True option that can avoid unnecessary retracing. For (3), please refer to https://www.tensorflow.org/guide/function#controlling_retracing and https://www.tensorflow.org/api_docs/python/tf/function for  more details.
<span class=" -Color -Color-Bold">3/3</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 68ms/step
<span class=" -Color -Color-Bold">1/1</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 66ms/step
<span class=" -Color -Color-Bold">1/1</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 94ms/step
Fold 2 | RMSE prom: 0.0927 | pval(h1): 0.6872334199745156

===== Fold 3/5 =====
WARNING:tensorflow:5 out of the last 11 calls to &lt;function TensorFlowTrainer.make_predict_function.&lt;locals&gt;.one_step_on_data_distributed at 0x0000018A0D130400&gt; triggered tf.function retracing. Tracing is expensive and the excessive number of tracings could be due to (1) creating @tf.function repeatedly in a loop, (2) passing tensors with different shapes, (3) passing Python objects instead of tensors. For (1), please define your @tf.function outside of the loop. For (2), @tf.function has reduce_retracing=True option that can avoid unnecessary retracing. For (3), please refer to https://www.tensorflow.org/guide/function#controlling_retracing and https://www.tensorflow.org/api_docs/python/tf/function for  more details.
<span class=" -Color -Color-Bold">3/3</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 66ms/step
<span class=" -Color -Color-Bold">1/1</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 73ms/step
<span class=" -Color -Color-Bold">1/1</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 91ms/step
Fold 3 | RMSE prom: 0.0887 | pval(h1): 0.6153989157671537

===== Fold 4/5 =====
<span class=" -Color -Color-Bold">3/3</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 58ms/step
<span class=" -Color -Color-Bold">1/1</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 67ms/step
<span class=" -Color -Color-Bold">1/1</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 74ms/step
Fold 4 | RMSE prom: 0.1014 | pval(h1): 0.24625813865271337

===== Fold 5/5 =====
<span class=" -Color -Color-Bold">3/3</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 78ms/step
<span class=" -Color -Color-Bold">1/1</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 82ms/step
<span class=" -Color -Color-Bold">1/1</span> <span class=" -Color -Color-Green">━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Bold">0s</span> 64ms/step
Fold 5 | RMSE prom: 0.0924 | pval(h1): 0.772541283974989
</pre></div>
</div>
</div>
</div>
<section id="tabla-de-resumen-comparativo-por-lags">
<h3><em>Tabla de Resumen Comparativo por Lags</em><a class="headerlink" href="#tabla-de-resumen-comparativo-por-lags" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2) Ver tabla resumen comparativa de los 4 lags:</span>
<span class="n">df_comparativa</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;C:\DeepLearning\DL_Proyecto_2\data\volatilidad\tablas\resumen_comparativo.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df_comparativa</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>n_lag</th>
      <th>RMSE_prom</th>
      <th>RMSE_std</th>
      <th>MAE_prom</th>
      <th>MAPE_prom</th>
      <th>MSE_prom</th>
      <th>BDS_pvalue_h1_prom</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>7</td>
      <td>0.065362</td>
      <td>0.013288</td>
      <td>0.041183</td>
      <td>7.329915</td>
      <td>0.004664</td>
      <td>0.527326</td>
    </tr>
    <tr>
      <th>1</th>
      <td>14</td>
      <td>0.065832</td>
      <td>0.012181</td>
      <td>0.044774</td>
      <td>7.851903</td>
      <td>0.004801</td>
      <td>0.715526</td>
    </tr>
    <tr>
      <th>2</th>
      <td>21</td>
      <td>0.106048</td>
      <td>0.033549</td>
      <td>0.067084</td>
      <td>11.853536</td>
      <td>0.013734</td>
      <td>0.562758</td>
    </tr>
    <tr>
      <th>3</th>
      <td>28</td>
      <td>0.091302</td>
      <td>0.021816</td>
      <td>0.067386</td>
      <td>12.319823</td>
      <td>0.009229</td>
      <td>0.625582</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="tablas-de-metricas-resumen-por-horizonte-y-por-fold">
<h3><em>Tablas de Metricas: Resumen por Horizonte y por Fold</em><a class="headerlink" href="#tablas-de-metricas-resumen-por-horizonte-y-por-fold" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resultados_lag_vol</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--- Fold 1 ---
  Horizonte       MAE       MSE      RMSE      MAPE  BDS_pvalue_h1
0         1  0.030249  0.007049  0.083957  5.779067       0.972623
1         2  0.043901  0.005275  0.072630  7.506183            NaN
2         3  0.034280  0.002521  0.050206  6.096272            NaN
3         4  0.045353  0.007061  0.084029  7.114623            NaN
4         5  0.039249  0.003304  0.057479  6.677889            NaN
5         6  0.023782  0.001292  0.035941  3.641690            NaN
6         7  0.024639  0.001716  0.041430  3.870203            NaN
7  Promedio  0.034493  0.004031  0.060810  5.812275            NaN

--- Fold 2 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.046059  0.005721  0.075637   8.910223       0.003812
1         2  0.041705  0.003771  0.061411   7.477346            NaN
2         3  0.050156  0.005986  0.077371   9.099414            NaN
3         4  0.050253  0.008036  0.089645   8.129569            NaN
4         5  0.056413  0.005106  0.071459  10.627784            NaN
5         6  0.039936  0.004155  0.064457   7.045009            NaN
6         7  0.039760  0.004888  0.069911   6.139690            NaN
7  Promedio  0.046326  0.005380  0.072841   8.204148            NaN

--- Fold 3 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.035617  0.002099  0.045813   6.694649       0.124809
1         2  0.038936  0.003217  0.056719   6.663948            NaN
2         3  0.047235  0.007110  0.084319   8.137744            NaN
3         4  0.056895  0.009226  0.096053  10.904566            NaN
4         5  0.043064  0.002803  0.052943   7.975056            NaN
5         6  0.035791  0.002569  0.050689   7.121317            NaN
6         7  0.039855  0.005422  0.073638   7.861831            NaN
7  Promedio  0.042485  0.004635  0.065739   7.908444            NaN

--- Fold 4 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.040056  0.002763  0.052563   7.533560       0.924453
1         2  0.044227  0.004066  0.063766   7.748323            NaN
2         3  0.059914  0.010141  0.100702   9.378470            NaN
3         4  0.064858  0.008371  0.091493  12.582550            NaN
4         5  0.049014  0.004175  0.064616   9.346686            NaN
5         6  0.036086  0.002720  0.052151   6.655907            NaN
6         7  0.036022  0.002247  0.047403   6.933674            NaN
7  Promedio  0.047168  0.004926  0.067528   8.597024            NaN

--- Fold 5 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.023813  0.001140  0.033757   3.784807       0.610935
1         2  0.037416  0.005668  0.075285   5.696678            NaN
2         3  0.052657  0.014509  0.120452  10.190966            NaN
3         4  0.040731  0.003043  0.055164   7.485755            NaN
4         5  0.037614  0.002328  0.048245   6.750220            NaN
5         6  0.026777  0.001572  0.039647   4.282890            NaN
6         7  0.029092  0.002180  0.046693   4.702469            NaN
7  Promedio  0.035443  0.004348  0.059892   6.127684            NaN

✅ Resultados y gráficas guardados en: C:\DeepLearning\DL_Proyecto_2\data\volatilidad\figs\lag_7
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resultados_lag_vol</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--- Fold 1 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.037811  0.005012  0.070799   6.202642       0.844311
1         2  0.028294  0.001260  0.035497   5.244955            NaN
2         3  0.043389  0.003150  0.056129   7.719710            NaN
3         4  0.052653  0.003948  0.062832   8.981543            NaN
4         5  0.057342  0.006394  0.079962  10.725668            NaN
5         6  0.042420  0.005792  0.076102   7.349739            NaN
6         7  0.040714  0.003824  0.061842   6.822726            NaN
7  Promedio  0.043232  0.004197  0.063309   7.578141            NaN

--- Fold 2 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.042202  0.005545  0.074467   6.836543       0.896544
1         2  0.035416  0.002589  0.050885   5.541851            NaN
2         3  0.044371  0.002886  0.053723   7.813528            NaN
3         4  0.064968  0.007465  0.086399  10.686930            NaN
4         5  0.057685  0.005167  0.071884  11.315058            NaN
5         6  0.047510  0.006400  0.079998   8.506147            NaN
6         7  0.043201  0.004846  0.069615   7.979889            NaN
7  Promedio  0.047908  0.004986  0.069567   8.382849            NaN

--- Fold 3 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.042098  0.005325  0.072973   7.003447        0.83429
1         2  0.036241  0.004065  0.063757   5.710135            NaN
2         3  0.038996  0.002381  0.048800   7.047998            NaN
3         4  0.045667  0.003608  0.060066   7.295222            NaN
4         5  0.056422  0.008287  0.091035  10.103897            NaN
5         6  0.037270  0.003062  0.055338   6.563032            NaN
6         7  0.039631  0.003320  0.057621   7.071829            NaN
7  Promedio  0.042332  0.004293  0.064227   7.256509            NaN

--- Fold 4 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.038087  0.003230  0.056831   6.325436       0.874993
1         2  0.030043  0.001955  0.044215   4.751195            NaN
2         3  0.036906  0.002124  0.046087   6.532923            NaN
3         4  0.052111  0.005264  0.072552   8.159190            NaN
4         5  0.053211  0.005327  0.072987  10.027335            NaN
5         6  0.041472  0.003929  0.062680   7.392155            NaN
6         7  0.033902  0.001760  0.041956   6.181576            NaN
7  Promedio  0.040819  0.003370  0.056758   7.052830            NaN

--- Fold 5 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.036312  0.002686  0.051823   5.893852       0.127493
1         2  0.038836  0.002412  0.049108   6.393380            NaN
2         3  0.067324  0.011402  0.106782  12.335210            NaN
3         4  0.083059  0.024074  0.155157  15.818485            NaN
4         5  0.055177  0.005445  0.073793  10.214339            NaN
5         6  0.033343  0.002169  0.046572   6.290333            NaN
6         7  0.032998  0.001925  0.043870   5.978703            NaN
7  Promedio  0.049578  0.007159  0.075301   8.989186            NaN

✅ Resultados y gráficas guardados en: C:\DeepLearning\DL_Proyecto_2\data\volatilidad\figs\lag_14
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resultados_lag_vol</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--- Fold 1 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.077957  0.032422  0.180062  12.593175       0.964089
1         2  0.067619  0.010725  0.103564  12.297044            NaN
2         3  0.053323  0.005750  0.075828  10.024552            NaN
3         4  0.077096  0.009398  0.096944  13.713713            NaN
4         5  0.056913  0.006028  0.077639  11.303682            NaN
5         6  0.077572  0.022261  0.149200  11.226348            NaN
6         7  0.076992  0.017898  0.133783  11.157223            NaN
7  Promedio  0.069639  0.014926  0.116717  11.759391            NaN

--- Fold 2 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.096223  0.048659  0.220589  14.411435       0.983753
1         2  0.071902  0.008267  0.090921  13.549644            NaN
2         3  0.074091  0.009713  0.098557  13.251196            NaN
3         4  0.080351  0.010989  0.104827  16.965065            NaN
4         5  0.048415  0.005018  0.070835   8.230505            NaN
5         6  0.137493  0.061360  0.247709  22.971930            NaN
6         7  0.096327  0.044551  0.211071  13.683785            NaN
7  Promedio  0.086400  0.026937  0.149216  14.723366            NaN

--- Fold 3 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.071139  0.008713  0.093345  12.857806        0.31209
1         2  0.057325  0.005683  0.075388  10.319202            NaN
2         3  0.057493  0.005289  0.072723  10.804247            NaN
3         4  0.066823  0.009140  0.095604  13.601635            NaN
4         5  0.038682  0.002207  0.046979   7.396983            NaN
5         6  0.081567  0.024481  0.156465  13.432070            NaN
6         7  0.082503  0.023005  0.151673  12.861175            NaN
7  Promedio  0.065076  0.011217  0.098882  11.610446            NaN

--- Fold 4 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.076200  0.012534  0.111957  14.801406       0.511825
1         2  0.058864  0.006515  0.080715  10.840321            NaN
2         3  0.049545  0.003862  0.062149   9.476916            NaN
3         4  0.047396  0.003537  0.059475   8.620012            NaN
4         5  0.041186  0.003203  0.056593   8.128917            NaN
5         6  0.066384  0.007615  0.087264  12.938076            NaN
6         7  0.078940  0.031545  0.177610  11.435928            NaN
7  Promedio  0.059788  0.009830  0.090823  10.891654            NaN

--- Fold 5 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.047633  0.004652  0.068204   8.172714       0.042032
1         2  0.045026  0.004126  0.064233   8.290924            NaN
2         3  0.057023  0.009713  0.098555   9.348131            NaN
3         4  0.042201  0.002934  0.054168   7.248882            NaN
4         5  0.054547  0.004770  0.069064  11.634895            NaN
5         6  0.065288  0.006443  0.080269  12.919632            NaN
6         7  0.069887  0.007693  0.087709  14.364581            NaN
7  Promedio  0.054515  0.005761  0.074600  10.282823            NaN

✅ Resultados y gráficas guardados en: C:\DeepLearning\DL_Proyecto_2\data\volatilidad\figs\lag_21
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resultados_lag_vol</span><span class="p">(</span><span class="mi">28</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--- Fold 1 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.081712  0.009565  0.097798  14.655980       0.806478
1         2  0.051507  0.004923  0.070163   7.833900            NaN
2         3  0.054528  0.005173  0.071923  14.396486            NaN
3         4  0.045017  0.003361  0.057974   8.445345            NaN
4         5  0.079491  0.011951  0.109321  14.419879            NaN
5         6  0.059341  0.005023  0.070872  11.185952            NaN
6         7  0.070665  0.008345  0.091351  11.582158            NaN
7  Promedio  0.063180  0.006906  0.081343  11.788529            NaN

--- Fold 2 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.080551  0.012601  0.112255  14.961220       0.687233
1         2  0.055530  0.003958  0.062916   9.075311            NaN
2         3  0.064450  0.005783  0.076043  14.515606            NaN
3         4  0.049395  0.004821  0.069433   9.971223            NaN
4         5  0.069832  0.010359  0.101779  14.915786            NaN
5         6  0.101537  0.015233  0.123424  19.398230            NaN
6         7  0.087589  0.010585  0.102883  15.570782            NaN
7  Promedio  0.072698  0.009049  0.092676  14.058308            NaN

--- Fold 3 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.098565  0.017175  0.131055  17.295720       0.615399
1         2  0.075186  0.012169  0.110312  11.248959            NaN
2         3  0.037488  0.002029  0.045043   7.286609            NaN
3         4  0.051848  0.003847  0.062026  10.174272            NaN
4         5  0.059877  0.006242  0.079005  12.033740            NaN
5         6  0.088542  0.011590  0.107657  16.220474            NaN
6         7  0.065754  0.007381  0.085911  11.745066            NaN
7  Promedio  0.068180  0.008633  0.088715  12.286406            NaN

--- Fold 4 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.083390  0.012311  0.110956  17.404378       0.246258
1         2  0.054998  0.005598  0.074817  10.204173            NaN
2         3  0.050385  0.003886  0.062341   9.522094            NaN
3         4  0.062268  0.007160  0.084618  11.078237            NaN
4         5  0.112052  0.040426  0.201063  18.121277            NaN
5         6  0.065799  0.009054  0.095151  12.562179            NaN
6         7  0.062079  0.006497  0.080606  11.218787            NaN
7  Promedio  0.070139  0.012133  0.101365  12.873018            NaN

--- Fold 5 ---
  Horizonte       MAE       MSE      RMSE       MAPE  BDS_pvalue_h1
0         1  0.061383  0.011064  0.105185   9.913480       0.772541
1         2  0.049753  0.004746  0.068894   9.189818            NaN
2         3  0.033054  0.001737  0.041682   6.373313            NaN
3         4  0.065941  0.006189  0.078669  11.245221            NaN
4         5  0.098890  0.017227  0.131250  16.444463            NaN
5         6  0.070923  0.016173  0.127172  11.371909            NaN
6         7  0.059193  0.008838  0.094009   9.611784            NaN
7  Promedio  0.062734  0.009425  0.092409  10.592856            NaN

✅ Resultados y gráficas guardados en: C:\DeepLearning\DL_Proyecto_2\data\volatilidad\figs\lag_28
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Model-Training-Close.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><strong>Modelado: Precio de Cierre</strong></p>
      </div>
    </a>
    <a class="right-next"
       href="Analysis.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><em><strong>Análisis de Resultados</strong></em></p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#split-temporal-y-validacion-cruzada"><strong>Split Temporal y Validación Cruzada</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelado-con-deep-learning"><strong>Modelado con Deep Learning</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tabla-de-resumen-comparativo-por-lags"><em>Tabla de Resumen Comparativo por Lags</em></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tablas-de-metricas-resumen-por-horizonte-y-por-fold"><em>Tablas de Metricas: Resumen por Horizonte y por Fold</em></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Tawny Torres
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>